site_name: 大模型数据工程：架构、算法及项目实战
site_url: https://datascale-ai.github.io/data_engineering_book/
site_author: ustc
site_description: 大模型数据工程：架构、算法及项目实战

# 仓库信息 (右上角显示 GitHub 图标)
repo_name: GitHub
repo_url: https://github.com/datascale-ai/data_engineering_book/tree/main

theme:
  name: material
  language: zh
  # 禁用默认的 favicon，可以换成自己的 logo
  # logo: assets/logo.png 
  # favicon: assets/favicon.png
  
  # 关键：书籍模式的特性配置
  features:
    - navigation.sections    # 侧边栏按章节分组
    - navigation.expand      # 默认展开所有目录 (像纸质书目录一样一览无余)
    - navigation.indexes     # 允许点击章节标题页
    - navigation.top         # 返回顶部按钮
    - navigation.footer      # 底部显示 [上一章] [下一章] (书籍核心体验)
    - toc.follow             # 右侧小目录随滚动自动高亮
    - search.suggest         # 搜索建议
    - content.code.copy      # 代码块复制按钮

  # 调色盘：提供护眼模式
  palette:
    # 日间模式 (亮色)
    - media: "(prefers-color-scheme: light)"
      scheme: default
      primary: white         # 配合 CSS 将顶栏变白，降低干扰
      accent: red            # 链接高亮色 (类似红笔批注)
      toggle:
        icon: material/weather-sunny
        name: 切换至夜间模式
    
    # 夜间模式 (深色)
    - media: "(prefers-color-scheme: dark)"
      scheme: slate
      primary: black
      accent: red
      toggle:
        icon: material/weather-night
        name: 切换至日间模式

# 插件配置
plugins:
  - search                           # 全文搜索 (内置)
  - glightbox                        # 图片点击放大 (书籍中架构图较多，必备)
  - i18n:
      reconfigure_material: true     # 自动适配 Material 主题
      docs_structure: folder         # 文件夹策略：zh/ 和 en/ 目录
      languages:
        - locale: zh
          default: true
          name: 简体中文
          build: true
          site_name: 大模型数据工程：架构、算法及项目实战
        - locale: en
          name: English
          build: true
          site_name: "Data Engineering for Large Models: Architecture, Algorithms & Projects"
          theme:
            palette:
              - media: "(prefers-color-scheme: light)"
                scheme: default
                primary: white
                accent: red
                toggle:
                  icon: material/weather-sunny
                  name: Switch to dark mode
              - media: "(prefers-color-scheme: dark)"
                scheme: slate
                primary: black
                accent: red
                toggle:
                  icon: material/weather-night
                  name: Switch to light mode
          nav_translations:
            目录: Table of Contents
            第一部分：基础设施与核心理念: "Part 1: Infrastructure & Core Concepts"
            第1章：大模型时代的数据变革: "Chapter 1: Data Revolution in the LLM Era"
            第2章：数据基础设施选型: "Chapter 2: Data Infrastructure Selection"
            第二部分：文本预训练数据工程: "Part 2: Text Pre-training Data Engineering"
            第3章：数据获取与采集: "Chapter 3: Data Acquisition"
            第4章：清洗与去噪: "Chapter 4: Cleaning & Deduplication"
            第5章：分词与序列化: "Chapter 5: Tokenization & Serialization"
            第三部分：多模态数据工程: "Part 3: Multimodal Data Engineering"
            第6章：图文对数据处理: "Chapter 6: Image-Text Pair Processing"
            第7章：数据重描述: "Chapter 7: Recaptioning"
            第8章：视频与音频数据: "Chapter 8: Video & Audio Data"
            第四部分：对齐与合成数据工程: "Part 4: Alignment & Synthetic Data Engineering"
            第9章：指令微调数据: "Chapter 9: Instruction Fine-tuning Data"
            第10章：合成数据: "Chapter 10: Synthetic Data"
            第11章：人类偏好数据: "Chapter 11: Human Preference Data"
            第五部分：应用级数据工程: "Part 5: Application-level Data Engineering"
            第12章：RAG数据流水线: "Chapter 12: RAG Data Pipeline"
            第13章：多模态RAG: "Chapter 13: Multimodal RAG"
            第六部分：实战项目集: "Part 6: Capstone Projects"
            项目一：构建Mini-C4预训练集: "Project 1: Building Mini-C4 Pre-training Set"
            项目二：垂直领域专家SFT: "Project 2: Domain Expert SFT"
            项目三：构建LLaVA多模态指令集: "Project 3: Building LLaVA Multimodal Instruction Set"
            项目四：合成数学代码教科书: "Project 4: Synthetic Math/Code Textbook"
            项目五：多模态RAG企业财报助手: "Project 5: Multimodal RAG Financial Report Assistant"
        - locale: ja
          name: 日本語
          build: true
          site_name: "大規模モデルデータエンジニアリング: アーキテクチャ・アルゴリズム・実践プロジェクト"
          theme:
            palette:
              - media: "(prefers-color-scheme: light)"
                scheme: default
                primary: white
                accent: red
                toggle:
                  icon: material/weather-sunny
                  name: ダークモードに切り替え
              - media: "(prefers-color-scheme: dark)"
                scheme: slate
                primary: black
                accent: red
                toggle:
                  icon: material/weather-night
                  name: ライトモードに切り替え
          nav_translations:
            目录: 目次
            第一部分：基础设施与核心理念: "第1部: インフラとコアコンセプト"
            第1章：大模型时代的数据变革: "第1章: LLM時代のデータ革命"
            第2章：数据基础设施选型: "第2章: データインフラ選定"
            第二部分：文本预训练数据工程: "第2部: テキスト事前学習データエンジニアリング"
            第3章：数据获取与采集: "第3章: データ取得と収集"
            第4章：清洗与去噪: "第4章: クリーニングとノイズ除去"
            第5章：分词与序列化: "第5章: Tokenizationとシリアライズ"
            第三部分：多模态数据工程: "第3部: マルチモーダルデータエンジニアリング"
            第6章：图文对数据处理: "第6章: 画像・テキストペア処理"
            第7章：数据重描述: "第7章: Recaptioning"
            第8章：视频与音频数据: "第8章: 動画と音声データ"
            第四部分：对齐与合成数据工程: "第4部: アライメントと合成データエンジニアリング"
            第9章：指令微调数据: "第9章: SFTデータ"
            第10章：合成数据: "第10章: 合成データ"
            第11章：人类偏好数据: "第11章: 人間嗜好データ"
            第五部分：应用级数据工程: "第5部: アプリケーション級データエンジニアリング"
            第12章：RAG数据流水线: "第12章: RAGデータパイプライン"
            第13章：多模态RAG: "第13章: マルチモーダルRAG"
            第六部分：实战项目集: "第6部: 実践プロジェクト集"
            项目一：构建Mini-C4预训练集: "プロジェクト1: Mini-C4事前学習セット構築"
            项目二：垂直领域专家SFT: "プロジェクト2: 垂直領域エキスパートSFT"
            项目三：构建LLaVA多模态指令集: "プロジェクト3: LLaVAマルチモーダル指示セット構築"
            项目四：合成数学代码教科书: "プロジェクト4: 数学/コード教科書合成"
            项目五：多模态RAG企业财报助手: "プロジェクト5: マルチモーダルRAG企業財務レポートアシスタント"

# 必选插件：增强书籍排版能力
markdown_extensions:
  - admonition               # 提示框
  - footnotes                # 脚注
  - attr_list                # 图片/元素属性控制
  - md_in_html               # 支持 HTML 混排
  - pymdownx.details         # 折叠块
  - pymdownx.superfences     # 高级代码块
  - pymdownx.arithmatex:     # 数学公式
      generic: true
  - pymdownx.highlight:      # 代码高亮
      anchor_linenums: true
  - toc:
      permalink: true        # 标题生成锚点链接

# 引入自定义样式
extra_css:
  - stylesheets/extra.css

extra_javascript:
  - javascripts/mathjax.js
  - https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js

# 目录结构
nav:
  - 目录: index.md
  - 第一部分：基础设施与核心理念:
      - 第1章：大模型时代的数据变革: part1/1_1_data_change.md
      - 第2章：数据基础设施选型: part1/1_2_data_infra.md
  - 第二部分：文本预训练数据工程:
      - 第3章：数据获取与采集: part2/2_1_data_acquisition.md
      - 第4章：清洗与去噪: part2/2_2_cleaning_denoising.md
      - 第5章：分词与序列化: part2/2_3_tokenization_serialization.md
  - 第三部分：多模态数据工程:
      - 第6章：图文对数据处理: part3/3_1_image_text_pairs.md
      - 第7章：数据重描述: part3/3_2_recaptioning.md
      - 第8章：视频与音频数据: part3/3_3_video_audio.md
  - 第四部分：对齐与合成数据工程:
      - 第9章：指令微调数据: part4/4_1_sft_data.md
      - 第10章：合成数据: part4/4_2_synthetic_data.md
      - 第11章：人类偏好数据: part4/4_3_preference_data.md
  - 第五部分：应用级数据工程:
      - 第12章：RAG数据流水线: part5/5_1_rag_pipeline.md
      - 第13章：多模态RAG: part5/5_2_mm_rag.md
  - 第六部分：实战项目集:
      - 项目一：构建Mini-C4预训练集: part6/6_1_mini_c4.md
      - 项目二：垂直领域专家SFT: part6/6_2_legal_sft.md
      - 项目三：构建LLaVA多模态指令集: part6/6_3_llava_instruct.md
      - 项目四：合成数学代码教科书: part6/6_4_synthetic_textbook.md
      - 项目五：多模态RAG企业财报助手: part6/6_5_mm_rag.md
